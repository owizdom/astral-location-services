# =============================================================================
# ASTRAL LOCATION SERVICES - Environment Configuration
# =============================================================================
#
# Environment files:
#   .env.local      - Local development (gitignored, copy this file)
#   .env.staging    - Reference for Railway staging
#   .env.production - Reference for EigenCompute production
#
# =============================================================================

# -----------------------------------------------------------------------------
# SIGNER CONFIGURATION
# -----------------------------------------------------------------------------
# Production (EigenCompute):
#   - MNEMONIC is PROVIDED BY EIGENCOMPUTE via their KMS
#   - You do NOT set it yourself - EigenCompute injects it
#   - Only the TEE can decrypt and use it
#
# Local/Staging:
#   - Use SIGNER_PRIVATE_KEY - a key you control
#   - Generate: node -e "console.log(require('ethers').Wallet.createRandom().privateKey)"
#
# The service checks MNEMONIC first. If present, it's in production/TEE mode.

# Local/Staging only - Direct private key (you provide this)
SIGNER_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
# Local: postgresql://astral:astral@localhost:5432/astral
# Staging (Railway): Set in Railway dashboard
# Production (EigenCompute): Internal - postgresql://astral:astral@localhost:5432/astral
DATABASE_URL=postgresql://astral:astral@localhost:5432/astral

# -----------------------------------------------------------------------------
# CHAIN CONFIGURATION
# -----------------------------------------------------------------------------
CHAIN_ID=84532  # 84532 = Base Sepolia, 8453 = Base Mainnet

# -----------------------------------------------------------------------------
# SCHEMA UIDs (Base Sepolia)
# -----------------------------------------------------------------------------
# Default schema UIDs for policy attestations. Optional - if not set, clients
# must provide schema UIDs in each request. Clients can always override these
# with custom schemas (e.g., for resolver contracts).
#
# Register your own schemas or use these pre-registered ones:
NUMERIC_SCHEMA_UID=0xc2b013ecb68d59b28f5d301203ec630335d97c37b400b16b359db6972572e02a
BOOLEAN_SCHEMA_UID=0x4958625091a773dcfb37a1c33099a378f32a975a7fb61f33d53c4be7589898f5

# -----------------------------------------------------------------------------
# SERVER
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development
ALLOWED_ORIGINS=*  # Comma-separated, e.g., https://app.astral.global,http://localhost:3000

# -----------------------------------------------------------------------------
# TLS (EigenCompute production only)
# -----------------------------------------------------------------------------
# DOMAIN=api.astral.global
# APP_PORT=3000
# ACME_STAGING=false
